<script setup lang="ts">
import { ref } from 'vue'
import { Upload, Link, VideoCamera, Document } from '@element-plus/icons-vue'

// è¾“å…¥æ–¹å¼
const inputType = ref('video') // video | tiktok | text

// è„šæœ¬åç§°
const scriptName = ref('')
</script>

<template>
  <div class="ai-script-page">
    <div class="page-content">
      <!-- å·¦ä¾§è¡¨å• -->
      <div class="form-area">
        <!-- é¡µé¢æ ‡é¢˜Banner -->
        <div class="page-banner">
          <div class="banner-content">
            <span class="banner-tag">AIè„šæœ¬æ‹†è§£ï¼šå–ç‚¹æ™ºèƒ½æå–</span>
            <div class="banner-icons">
              <span class="icon-item">ğŸ“¹</span>
              <span class="icon-item">ğŸ“</span>
              <span class="icon-item">ğŸ¤–</span>
              <span class="icon-item">âœ¨</span>
            </div>
            <p class="banner-desc">ä¸Šä¼ è§†é¢‘/è¾“å…¥æ–‡æœ¬ï¼ŒAIæ™ºèƒ½åˆ†æè„šæœ¬</p>
          </div>
        </div>

        <!-- è„šæœ¬åç§° -->
        <div class="form-section">
          <div class="section-header">
            <span class="section-icon">ğŸ“</span>
            <span class="section-title">è„šæœ¬åç§° *</span>
          </div>
          <input
            v-model="scriptName"
            type="text"
            class="name-input"
            placeholder="è¯·è¾“å…¥è„šæœ¬åç§°..."
          />
        </div>

        <!-- è¾“å…¥æ–¹å¼ -->
        <div class="form-section">
          <div class="section-header">
            <span class="section-icon">ğŸ“¥</span>
            <span class="section-title">è¾“å…¥æ–¹å¼</span>
          </div>

          <div class="input-tabs">
            <button
              class="tab-btn"
              :class="{ active: inputType === 'video' }"
              @click="inputType = 'video'"
            >
              <el-icon><Upload /></el-icon>
              <span>è§†é¢‘ä¸Šä¼ </span>
            </button>
            <button
              class="tab-btn"
              :class="{ active: inputType === 'tiktok' }"
              @click="inputType = 'tiktok'"
            >
              <el-icon><Link /></el-icon>
              <span>TikToké“¾æ¥</span>
            </button>
            <button
              class="tab-btn"
              :class="{ active: inputType === 'text' }"
              @click="inputType = 'text'"
            >
              <el-icon><Document /></el-icon>
              <span>æ–‡æœ¬è¾“å…¥</span>
            </button>
          </div>

          <!-- è§†é¢‘ä¸Šä¼  -->
          <div v-if="inputType === 'video'" class="upload-area">
            <p class="upload-label">ä¸Šä¼ è§†é¢‘</p>
            <div class="upload-placeholder">
              <el-icon class="upload-icon"><Upload /></el-icon>
              <p class="upload-title">ç‚¹å‡»ä¸Šä¼ è§†é¢‘æ–‡ä»¶</p>
              <p class="upload-hint">æ”¯æŒ MP4 æ ¼å¼</p>
            </div>
          </div>

          <!-- TikToké“¾æ¥ -->
          <div v-if="inputType === 'tiktok'" class="link-input-area">
            <p class="input-label">TikTokè§†é¢‘é“¾æ¥</p>
            <input type="text" class="link-input" placeholder="ç²˜è´´TikTokè§†é¢‘é“¾æ¥..." />
          </div>

          <!-- æ–‡æœ¬è¾“å…¥ -->
          <div v-if="inputType === 'text'" class="text-input-area">
            <p class="input-label">è„šæœ¬æ–‡æœ¬</p>
            <textarea class="text-input" placeholder="è¾“å…¥è„šæœ¬å†…å®¹..." rows="6"></textarea>
          </div>
        </div>

        <!-- æäº¤æŒ‰é’® -->
        <button class="submit-btn">
          å¼€å§‹åˆ†æ
        </button>
      </div>

      <!-- å³ä¾§ç»“æœåŒº -->
      <div class="result-area">
        <div class="result-header">
          <div class="result-tabs">
            <button class="result-tab active">
              <el-icon><Document /></el-icon>
              <span>è„šæœ¬è¯¦æƒ…</span>
            </button>
            <button class="result-tab">
              <el-icon><Document /></el-icon>
              <span>è„šæœ¬åˆ—è¡¨</span>
            </button>
          </div>
        </div>

        <div class="result-content">
          <div class="empty-state">
            <el-icon class="empty-icon"><Document /></el-icon>
            <p class="empty-title">æš‚æ— æ‹†è§£ç»“æœ</p>
            <p class="empty-desc">ä¸Šä¼ è§†é¢‘æˆ–è¾“å…¥æ–‡æœ¬å¼€å§‹åˆ†æ</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.ai-script-page {
  min-height: calc(100vh - 65px);
}

.page-content {
  display: flex;
  gap: 24px;
  height: 100%;
}

.form-area {
  width: 380px;
  flex-shrink: 0;
}

.page-banner {
  background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;

  .banner-content {
    .banner-tag {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      color: #fff;
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 4px;
      margin-bottom: 12px;
    }

    .banner-icons {
      display: flex;
      gap: 12px;
      margin-bottom: 12px;

      .icon-item {
        width: 36px;
        height: 36px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
      }
    }

    .banner-desc {
      color: #fff;
      font-size: 12px;
      opacity: 0.9;
      margin: 0;
    }
  }
}

.form-section {
  background: #fff;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;

  .section-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;

    .section-icon { font-size: 16px; }
    .section-title { font-size: 14px; font-weight: 600; color: #1f2937; }
  }

  .name-input {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 14px;
    outline: none;

    &:focus { border-color: #f97316; }
    &::placeholder { color: #9ca3af; }
  }

  .input-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;

    .tab-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 16px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      font-size: 13px;
      color: #6b7280;
      background: #fff;
      cursor: pointer;

      &:hover { border-color: #f97316; color: #f97316; }
      &.active { background: #1f2937; color: #fff; border-color: #1f2937; }
    }
  }

  .upload-area,
  .link-input-area,
  .text-input-area {
    .upload-label,
    .input-label {
      font-size: 13px;
      color: #6b7280;
      margin: 0 0 12px;
    }
  }

  .upload-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
    border: 2px dashed #e5e7eb;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;

    &:hover { border-color: #f97316; }

    .upload-icon { font-size: 32px; color: #9ca3af; margin-bottom: 12px; }
    .upload-title { font-size: 14px; color: #6b7280; margin: 0 0 4px; }
    .upload-hint { font-size: 12px; color: #9ca3af; margin: 0; }
  }

  .link-input {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 14px;
    outline: none;

    &:focus { border-color: #f97316; }
    &::placeholder { color: #9ca3af; }
  }

  .text-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 14px;
    resize: none;
    outline: none;
    font-family: inherit;

    &:focus { border-color: #f97316; }
    &::placeholder { color: #9ca3af; }
  }
}

.submit-btn {
  width: 100%;
  padding: 14px;
  background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  color: #fff;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;

  &:hover { opacity: 0.9; }
}

.result-area {
  flex: 1;
  background: #fff;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  .result-header {
    padding: 16px 20px;
    border-bottom: 1px solid #e5e7eb;

    .result-tabs {
      display: flex;
      gap: 16px;

      .result-tab {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 0;
        font-size: 14px;
        color: #6b7280;
        background: none;
        cursor: pointer;

        &.active {
          color: #f97316;
          font-weight: 500;
        }
      }
    }
  }

  .result-content {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;

    .empty-state {
      text-align: center;
      color: #9ca3af;

      .empty-icon { font-size: 48px; margin-bottom: 16px; }
      .empty-title { font-size: 16px; margin: 0 0 8px; color: #6b7280; }
      .empty-desc { font-size: 14px; margin: 0; }
    }
  }
}
</style>
